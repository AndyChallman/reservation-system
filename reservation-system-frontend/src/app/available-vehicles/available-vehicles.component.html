<div *ngIf="!isVehicleSelected" class="container">
    <h1>
        Showing available vehicles in {{location}} between {{startDate}} and {{endDate}}
    </h1>
    <div>
        <p-dropdown
            [options]="vehicleTypes"
            [(ngModel)]="selectedVehicleType"
            (onChange)="filterVehiclesByType()">
        </p-dropdown>
    </div>

    <p-table [value]="displayedVehicles" [paginator]="true" [rows]=6 [(first)]="paginatorPageNum">
        <ng-template pTemplate="header">
            <tr>
                <th>{{"Make" | translate}}</th>
                <th>{{"Model" | translate}}</th>
                <th>{{"Type" | translate}}</th>
                <th>{{"Location" | translate}}</th>
                <th>Price per day</th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-vehicle> 
            <tr>
                <td>{{ vehicle.make | titlecase}}</td>
                <td>{{ vehicle.model | titlecase}}</td>
                <td>{{ vehicle.type.toUpperCase() === "SUV" ? (vehicle.type | uppercase) : (vehicle.type | titlecase)}}</td>
                <td>{{ vehicle.location | titlecase}}</td>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${{ vehicle.pricePerDay }}</td>
                <td>
                    <p-button (click)="confirmVehicleSelection(vehicle.make, vehicle.model,vehicle.vehicleId)"
                              [label]="translate.instant('ReserveVehicle')"></p-button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>

<app-review-reservation *ngIf="isVehicleSelected" [reservationForm]="reservationForm"></app-review-reservation>
